FROM openjdk:17-slim

WORKDIR /app
COPY ./*.jar app.jar

ARG SPRING_PROFILES_ACTIVE
ARG PORT

ENV SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}
ENV PORT=${PORT}

ENV OIDC_CLIENT_SECRET=""
ENV JWT=""
ENV ISSUER=""

EXPOSE ${PORT}

ENTRYPOINT ["java", "-jar", "app.jar"]